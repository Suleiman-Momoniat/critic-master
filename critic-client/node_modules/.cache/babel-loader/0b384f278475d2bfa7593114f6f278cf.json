{"ast":null,"code":"var _jsxFileName = \"/Users/suli/Desktop/critic-master/critic-client/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport themeFile from './util/theme';\nimport jwtDecode from 'jwt-decode'; // import MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\n\nimport createMuiTheme from '@material-ui/core/styles/createMuiStrictModeTheme';\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles'; //Redux\n\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { SET_AUTHENTICATED } from './redux/types';\nimport { logoutUser, getUserData } from './redux/actions/userActions'; //components \n\nimport Navbar from './components/Navbar';\nimport AuthRoute from './util/AuthRoute'; //pages\n\nimport home from './pages/home';\nimport login from './pages/login';\nimport signup from './pages/signup';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createMuiTheme(themeFile);\nconst token = localStorage.FBIdToken;\n\nif (token) {\n  const decodedToken = jwtDecode(token);\n\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUser());\n    window.location.href = '/login';\n  } else {\n    store.dispatch({\n      type: SET_AUTHENTICATED\n    });\n    axios.defaults.headers.common['Authorization'] = token;\n    store.dispatch(getUserData());\n  }\n}\n\nclass App extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n      theme: theme,\n      children: /*#__PURE__*/_jsxDEV(Provider, {\n        store: store,\n        children: /*#__PURE__*/_jsxDEV(Router, {\n          children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/\",\n                component: home\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n                exact: true,\n                path: \"/login\",\n                component: login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n                exact: true,\n                path: \"/signup\",\n                component: signup\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/suli/Desktop/critic-master/critic-client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","themeFile","jwtDecode","createMuiTheme","ThemeProvider","MuiThemeProvider","Provider","store","SET_AUTHENTICATED","logoutUser","getUserData","Navbar","AuthRoute","home","login","signup","axios","theme","token","localStorage","FBIdToken","decodedToken","exp","Date","now","dispatch","window","location","href","type","defaults","headers","common","App","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,QAAuD,kBAAvD;AACA,OAAO,WAAP;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,OAAQC,cAAR,MAA6B,mDAA7B;AACA,SAASC,aAAa,IAAIC,gBAA1B,QAAkD,0BAAlD,C,CAEA;;AACA,SAAQC,QAAR,QAAuB,aAAvB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,SAASC,iBAAT,QAAkC,eAAlC;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,6BAAxC,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,SAAP,MAAsB,kBAAtB,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAK,GAAGd,cAAc,CAACF,SAAD,CAA5B;AAEA,MAAMiB,KAAK,GAAGC,YAAY,CAACC,SAA3B;;AACA,IAAGF,KAAH,EAAS;AACP,QAAMG,YAAY,GAAGnB,SAAS,CAACgB,KAAD,CAA9B;;AACA,MAAGG,YAAY,CAACC,GAAb,GAAmB,IAAnB,GAA0BC,IAAI,CAACC,GAAL,EAA7B,EAAwC;AACtCjB,IAAAA,KAAK,CAACkB,QAAN,CAAehB,UAAU,EAAzB;AACAiB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACD,GAHD,MAGO;AACLrB,IAAAA,KAAK,CAACkB,QAAN,CAAe;AAACI,MAAAA,IAAI,EAAErB;AAAP,KAAf;AACAQ,IAAAA,KAAK,CAACc,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDd,KAAjD;AACAX,IAAAA,KAAK,CAACkB,QAAN,CAAef,WAAW,EAA1B;AACD;AACF;;AAED,MAAMuB,GAAN,SAAkBrC,SAAlB,CAA2B;AACzBsC,EAAAA,MAAM,GAAE;AACN,wBACE,QAAC,gBAAD;AAAkB,MAAA,KAAK,EAAEjB,KAAzB;AAAA,6BACE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAEV,KAAjB;AAAA,+BACI,QAAC,MAAD;AAAA,kCACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,mCACE,QAAC,MAAD;AAAA,sCACE,QAAC,KAAD;AAAO,gBAAA,KAAK,MAAZ;AAAa,gBAAA,IAAI,EAAC,GAAlB;AAAsB,gBAAA,SAAS,EAAEM;AAAjC;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,SAAD;AACA,gBAAA,KAAK,MADL;AAEA,gBAAA,IAAI,EAAC,QAFL;AAGA,gBAAA,SAAS,EAAEC;AAHX;AAAA;AAAA;AAAA;AAAA,sBAFF,eAOE,QAAC,SAAD;AACA,gBAAA,KAAK,MADL;AAEA,gBAAA,IAAI,EAAC,SAFL;AAGA,gBAAA,SAAS,EAAEC;AAHX;AAAA;AAAA;AAAA;AAAA,sBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAwBD;;AA1BwB;;AA6B3B,eAAekB,GAAf","sourcesContent":["import React, {Component} from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport themeFile from './util/theme';\nimport jwtDecode from 'jwt-decode';\n\n// import MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport  createMuiTheme  from '@material-ui/core/styles/createMuiStrictModeTheme';\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\n\n//Redux\nimport {Provider} from 'react-redux';\nimport store from './redux/store';\nimport { SET_AUTHENTICATED } from './redux/types';\nimport { logoutUser, getUserData } from './redux/actions/userActions';\n\n//components \nimport Navbar from './components/Navbar';\nimport AuthRoute from './util/AuthRoute';\n\n//pages\nimport home from './pages/home';\nimport login from './pages/login';\nimport signup from './pages/signup';\n\nimport axios from 'axios';\n\nconst theme = createMuiTheme(themeFile);\n\nconst token = localStorage.FBIdToken;\nif(token){\n  const decodedToken = jwtDecode(token);\n  if(decodedToken.exp * 1000 < Date.now()){\n    store.dispatch(logoutUser());\n    window.location.href = '/login';\n  } else {\n    store.dispatch({type: SET_AUTHENTICATED});\n    axios.defaults.headers.common['Authorization'] = token;\n    store.dispatch(getUserData());\n  }\n}\n\nclass App extends Component{\n  render(){\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Provider store={store}>\n            <Router>\n              <Navbar />\n              <div className=\"container\">\n                <Switch>\n                  <Route exact path=\"/\" component={home}/>\n                  <AuthRoute \n                  exact \n                  path=\"/login\" \n                  component={login} \n                  />\n                  <AuthRoute \n                  exact \n                  path=\"/signup\" \n                  component={signup} \n                  />\n                </Switch>\n              </div>\n            </Router>\n        </Provider>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}